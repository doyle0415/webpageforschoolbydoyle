<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>발표 웹사이트</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: 'Arial', sans-serif;
            background-color: #f0f0f0;
        }

        .main-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .button-container {
            display: flex;
            justify-content: space-around;
            margin: 50px 0;
            gap: 20px;
        }

        .main-button {
            width: 300px;
            height: 300px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            transition: transform 0.3s;
        }

        .main-button:hover {
            transform: scale(1.05);
        }

        .main-button h2 {
            color: white;
            margin: 0 0 10px 0;
        }

        .main-button p {
            color: white;
            text-align: center;
            margin: 0;
        }

        #button1 { background-color: #FF6B6B; }
        #button2 { background-color: #4ECDC4; }
        #button3 { background-color: #45B7D1; }

        .screen {
            display: none;
            padding: 20px;
            background: white;
            border-radius: 10px;
            margin-top: 20px;
        }

        .screen.active {
            display: block;
        }

        .back-button {
            padding: 10px 20px;
            background-color: #333;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }

        /* 정렬 알고리즘 시각화 관련 스타일 */
        .sorting-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .sorting-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .sorting-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background-color: #4ECDC4;
            color: white;
            transition: background-color 0.3s;
        }

        .sorting-btn:hover:not(:disabled) {
            background-color: #45b7a7;
        }

        .sorting-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }

        .sorting-btn.active {
            background-color: #FF6B6B;
        }

        .array-container {
            height: 300px;
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            gap: 4px;
        }

        .array-bar {
            width: 20px;
            background-color: #4ECDC4;
            transition: height 0.2s ease;
        }

        .algorithm-description {
            margin-top: 20px;
            text-align: center;
            color: #666;
        }

        /* 추천 시스템 관련 스타일 */
        .recommendation-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .video-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.2s;
        }

        .video-card:hover {
            transform: translateY(-5px);
        }

        .video-thumbnail {
            width: 100%;
            height: 120px;
            background-color: #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 0.8em;
        }

        .video-info {
            padding: 10px;
        }

        .video-title {
            margin: 0;
            font-size: 0.9em;
            line-height: 1.4;
            color: #333;
        }

        .video-metadata {
            font-size: 0.8em;
            color: #666;
            margin-top: 5px;
        }

        .recommendation-explanation {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            font-size: 0.9em;
            line-height: 1.6;
        }

        .user-preferences {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }

        .preference-tag {
            background-color: #e9ecef;
            padding: 8px 15px;
            border-radius: 20px;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .preference-tag.selected {
            background-color: #45B7D1;
            color: white;
        }

        .similarity-score {
            background-color: rgba(69, 183, 209, 0.1);
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8em;
            color: #45B7D1;
            margin-top: 5px;
        }
        
        #elevator-system {
        text-align: center;
        padding: 20px;
            
        }

        #elevator-display {
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        #elevator-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .elevator-button {
            padding: 10px 20px;
            font-size: 1em;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background-color: #4ECDC4;
            color: white;
            transition: background-color 0.3s;
        }

        .elevator-button:hover {
            background-color: #45B7A7;
        }

        #elevator-log {
            text-align: left;
            margin-top: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 10px;
            height: 150px;
            overflow-y: auto;
        }
        
        #log-container {
            font-size: 0.9em;
            color: #333;
    }

    </style>
</head>
<body>
    <div class="main-container">
        <div class="button-container">
            <button class="main-button" id="button1" onclick="showScreen('screen1')">
                <h2>정렬 알고리즘</h2>
                <p>선택정렬과 버블정렬</p>
            </button>
            <button class="main-button" id="button2" onclick="showScreen('screen2')">
                <h2>날아감</h2>
                <p>^^</p>
            </button>
            <button class="main-button" id="button3" onclick="showScreen('screen3')">
                <h2>추천 시스템</h2>
                <p>사용자 맞춤 동영상 추천</p>
            </button>
        </div>

        <div id="screen1" class="screen">
            <div class="sorting-card">
                <h2 style="text-align: center">정렬 알고리즘 시각화</h2>
                <div class="sorting-controls">
                    <button class="sorting-btn" id="bubbleSortBtn">버블 정렬</button>
                    <button class="sorting-btn" id="selectionSortBtn">선택 정렬</button>
                    <button class="sorting-btn" id="generateArrayBtn">새로운 배열</button>
                    <button class="sorting-btn" id="startSortBtn">시작</button>
                </div>
                <div class="array-container" id="arrayContainer"></div>
                <div class="algorithm-description" id="algorithmDescription">
                    버블 정렬은 인접한 두 원소를 비교하여 작은 값을 왼쪽으로 보내는 작업을 반복해 정렬합니다
                </div>
            </div>
            <button class="back-button" onclick="showMainButtons()">돌아가기</button>
        </div>

        <div id="screen2" class="screen">
            <h2>.</h2>
            <button class="back-button" onclick="showMainButtons()">돌아가기</button>
        </div>

        <div id="screen3" class="screen">
            <div class="recommendation-container">
                <h2 style="text-align: center">콘텐츠 추천 시스템 데모</h2>
                
                <div class="recommendation-explanation">
                    선택한 주제에 맞는 영상을 추천해드립니다
                </div>

                <h3>관심사를 선택해주세요:</h3>
                <div class="user-preferences" id="preferenceContainer">
                    <!-- 자바스크립트로 동적 생성됨 -->
                </div>

                <h3>추천 콘텐츠:</h3>
                <div class="video-grid" id="recommendationContainer">
                    <!-- 자바스크립트로 동적 생성됨 -->
                </div>
            </div>
            <button class="back-button" onclick="showMainButtons()">돌아가기</button>
        </div>
    </div>

    <script>
        // 정렬 알고리즘 변수
        let array = [];
        let sorting = false;
        let currentAlgorithm = 'bubble';
        const ARRAY_SIZE = 20;
        const ANIMATION_SPEED = 100;

        // DOM 요소
        const arrayContainer = document.getElementById('arrayContainer');
        const bubbleSortBtn = document.getElementById('bubbleSortBtn');
        const selectionSortBtn = document.getElementById('selectionSortBtn');
        const generateArrayBtn = document.getElementById('generateArrayBtn');
        const startSortBtn = document.getElementById('startSortBtn');
        const algorithmDescription = document.getElementById('algorithmDescription');

        // 배열 생성 함수
        function generateArray() {
            array = Array.from({length: ARRAY_SIZE}, () => 
                Math.floor(Math.random() * 80) + 10
            );
            updateArrayDisplay();
            sorting = false;
            startSortBtn.textContent = '시작';
            startSortBtn.classList.remove('active');
        }

        // 배열 표시 업데이트
        function updateArrayDisplay() {
            arrayContainer.innerHTML = '';
            array.forEach(value => {
                const bar = document.createElement('div');
                bar.className = 'array-bar';
                bar.style.height = `${value * 2}px`;
                arrayContainer.appendChild(bar);
            });
        }

        // 딜레이 함수
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // 버블 정렬
        async function bubbleSort() {
            const n = array.length;
            for (let i = 0; i < n - 1; i++) {
                for (let j = 0; j < n - i - 1; j++) {
                    if (!sorting) return; // 정렬 중단
                    if (array[j] > array[j + 1]) {
                        [array[j], array[j + 1]] = [array[j + 1], array[j]];
                        updateArrayDisplay();
                        await sleep(ANIMATION_SPEED);
                    }
                }
            }
            sorting = false;
            startSortBtn.textContent = '시작';
            startSortBtn.classList.remove('active');
        }

        // 선택 정렬
        async function selectionSort() {
            const n = array.length;
            for (let i = 0; i < n - 1; i++) {
                let minIdx = i;
                for (let j = i + 1; j < n; j++) {
                    if (!sorting) return;
                    if (array[j] < array[minIdx]) {
                        minIdx = j;
                    }
                }
                [array[i], array[minIdx]] = [array[minIdx], array[i]];
                updateArrayDisplay();
                await sleep(ANIMATION_SPEED);
            }
            sorting = false;
            startSortBtn.textContent = '시작';
            startSortBtn.classList.remove('active');
        }

        // 추천 시스템 관련 코드
        const preferences = [
            { id: 1, name: '게임', selected: false },
            { id: 2, name: '음악', selected: false },
            { id: 3, name: '요리', selected: false },
            { id: 4, name: '여행', selected: false },
            { id: 5, name: '테크', selected: false },
            { id: 6, name: '스포츠', selected: false },
        ];

        const videoDatabase = {
            게임: [
                { title: '인기 게임 리뷰', views: '28만', published: '3일 전', similarity: 0.95 },
                { title: '게임 플레이 가이드', views: '15만', published: '1주일 전', similarity: 0.85 },
            ],
            음악: [
                { title: '12월 첫번째 주 멜론차트', views: '42만', published: '2일 전', similarity: 0.92 },
                { title: '피아노 연주 강좌', views: '18만', published: '5일 전', similarity: 0.78 },
            ],
            요리: [
                { title: '간단한 요리 레시피', views: '35만', published: '1일 전', similarity: 0.88 },
                { title: '제과 제빵 기초', views: '22만', published: '4일 전', similarity: 0.82 },
            ],
            여행: [
                { title: '국내 여행 명소', views: '31만', published: '2일 전', similarity: 0.91 },
                { title: '해외 여행시 주의할 점', views: '25만', published: '6일 전', similarity: 0.84 },
            ],
            테크: [
                { title: '최신 기술 동향', views: '45만', published: '1일 전', similarity: 0.94 },
                { title: '프로그래밍 입문', views: '20만', published: '3일 전', similarity: 0.86 },
            ],
            스포츠: [
                { title: '축구 경기 하이라이트', views: '38만', published: '1일 전', similarity: 0.89 },
                { title: '홈 트레이닝 가이드', views: '28만', published: '4일 전', similarity: 0.81 },
            ],
        };

        function initializeRecommendationSystem() {
            const preferenceContainer = document.getElementById('preferenceContainer');
            preferenceContainer.innerHTML = '';
            
            // 선호도 태그 생성
            preferences.forEach(pref => {
                const tag = document.createElement('div');
                tag.className = 'preference-tag';
                tag.textContent = pref.name;
                tag.onclick = () => togglePreference(pref.id, tag);
                preferenceContainer.appendChild(tag);
            });

            updateRecommendations();
        }

        function togglePreference(id, element) {
            const pref = preferences.find(p => p.id === id);
            pref.selected = !pref.selected;
            element.classList.toggle('selected');
            updateRecommendations();
        }

        function updateRecommendations() {
            const recommendationContainer = document.getElementById('recommendationContainer');
            recommendationContainer.innerHTML = '';

            const selectedPreferences = preferences.filter(p => p.selected).map(p => p.name);
            
            if (selectedPreferences.length === 0) {
                const message = document.createElement('div');
                message.style.gridColumn = '1 / -1';
                message.style.textAlign = 'center';
                message.style.color = '#666';
                message.textContent = '관심사를 선택하면 맞춤 콘텐츠를 추천해드립니다.';
                recommendationContainer.appendChild(message);
                return;
            }

            selectedPreferences.forEach(pref => {
                videoDatabase[pref].forEach(video => {
                    const videoCard = createVideoCard(video, pref);
                    recommendationContainer.appendChild(videoCard);
                });
            });
        }

        function createVideoCard(video, category) {
            const card = document.createElement('div');
            card.className = 'video-card';
            
            card.innerHTML = `
                <div class="video-thumbnail">
                    ${category} 관련 영상
                </div>
                <div class="video-info">
                    <h4 class="video-title">${video.title}</h4>
                    <div class="video-metadata">
                        조회수 ${video.views} · ${video.published}
                    </div>
                    <div class="similarity-score">
                        유사도: ${(video.similarity * 100).toFixed(0)}%
                    </div>
                </div>
            `;
            
            return card;
        }

        // 일반 화면 전환 함수들
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            document.querySelector('.button-container').style.display = 'none';
            
            document.getElementById(screenId).classList.add('active');
            
            // 추천 시스템 초기화
            if (screenId === 'screen3') {
                initializeRecommendationSystem();
            }
        }

        function showMainButtons() {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            document.querySelector('.button-container').style.display = 'flex';
        }

        // 정렬 알고리즘 이벤트 리스너
        bubbleSortBtn.addEventListener('click', () => {
            if (!sorting) {
                currentAlgorithm = 'bubble';
                algorithmDescription.textContent = '버블 정렬은 인접한 두 원소를 비교하여 작은 값을 왼쪽으로 보내는 작업을 반복해 정렬합니다';
            }
        });

        selectionSortBtn.addEventListener('click', () => {
            if (!sorting) {
                currentAlgorithm = 'selection';
                algorithmDescription.textContent = '선택 정렬은 배열에서 최솟값을 찾아 맨 앞으로 이동시키는 방식으로 동작합니다.';
            }
        });

        generateArrayBtn.addEventListener('click', generateArray);

        startSortBtn.addEventListener('click', () => {
            if (!sorting) {
                sorting = true;
                startSortBtn.textContent = '중지';
                startSortBtn.classList.add('active');
                if (currentAlgorithm === 'bubble') {
                    bubbleSort();
                } else {
                    selectionSort();
                }
            } else {
                sorting = false;
                startSortBtn.textContent = '시작';
                startSortBtn.classList.remove('active');
            }
        });

        // 초기화
        window.addEventListener('DOMContentLoaded', () => {
            generateArray();
        });
    </script>
</body>
</html>